[gd_scene load_steps=14 format=3 uid="uid://bx6yxqrt4mq0v"]

[ext_resource type="Script" path="res://program.gd" id="1_5rvem"]
[ext_resource type="Shader" path="res://3d image visualizer.gdshader" id="1_xyavc"]
[ext_resource type="Shader" path="res://program.gdshader" id="2_1yiai"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_h7wj0"]
shader = ExtResource("2_1yiai")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_dts6o"]
shader = ExtResource("1_xyavc")
shader_parameter/brush_color = Vector4(1, 1, 1, 1)
shader_parameter/z_width = 16
shader_parameter/z_offset = 0.5
shader_parameter/rotation = Basis(1, 0, 0, 0, 1, 0, 0, 0, 1)
shader_parameter/display_size = 0.5
shader_parameter/mouse_position = null
shader_parameter/modulate = Vector4(1, 1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hpb36"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qvde2"]
albedo_color = Color(0, 1, 0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qa16k"]
albedo_color = Color(0, 0, 1, 1)

[sub_resource type="Environment" id="Environment_0bxk3"]
background_mode = 1
background_color = Color(0, 0, 0, 0)
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b541f"]
transparency = 1
cull_mode = 2
albedo_color = Color(0, 0.666667, 1, 0.529412)

[sub_resource type="QuadMesh" id="QuadMesh_7oevu"]
material = SubResource("StandardMaterial3D_b541f")
size = Vector2(2, 2)

[sub_resource type="Environment" id="Environment_370gd"]

[sub_resource type="World3D" id="World3D_vcce8"]
environment = SubResource("Environment_370gd")

[node name="Program" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_5rvem")

[node name="Background" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_h7wj0")
layout_mode = 0
offset_right = 2573.0
offset_bottom = 1466.0
color = Color(0.0926804, 0.0926804, 0.0926804, 1)

[node name="Screen" type="ColorRect" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_dts6o")
layout_mode = 0
offset_right = 2560.0
offset_bottom = 1440.0

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
layout_mode = 0
offset_top = 1504.0
offset_right = 513.0
offset_bottom = 2035.0
scale = Vector2(1, -1)

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
transparent_bg = true
handle_input_locally = false
msaa_3d = 3
render_target_update_mode = 4

[node name="SliceVisualizer" type="Node3D" parent="SubViewportContainer/SubViewport"]

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer/SubViewport/SliceVisualizer"]
transform = Transform3D(0.919822, 0.196761, 0.339431, 0, 0.865151, -0.501511, -0.392337, 0.4613, 0.795785, 1.059, -1.225, 1.673)

[node name="TextureCube" type="CSGBox3D" parent="SubViewportContainer/SubViewport/SliceVisualizer"]

[node name="CSGSphere3D" type="CSGSphere3D" parent="SubViewportContainer/SubViewport/SliceVisualizer/TextureCube"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, 0)
radius = 0.1
material = SubResource("StandardMaterial3D_hpb36")

[node name="CSGSphere3D2" type="CSGSphere3D" parent="SubViewportContainer/SubViewport/SliceVisualizer/TextureCube"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
radius = 0.1
material = SubResource("StandardMaterial3D_qvde2")

[node name="CSGSphere3D3" type="CSGSphere3D" parent="SubViewportContainer/SubViewport/SliceVisualizer/TextureCube"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.5)
radius = 0.1
material = SubResource("StandardMaterial3D_qa16k")

[node name="WorldEnvironment" type="WorldEnvironment" parent="SubViewportContainer/SubViewport/SliceVisualizer"]
environment = SubResource("Environment_0bxk3")

[node name="TopLight" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport/SliceVisualizer"]
transform = Transform3D(0.960883, 0.14981, 0.23294, -0.232585, -0.0201354, 0.972368, 0.150361, -0.98851, 0.0154958, 0, 0, 0)

[node name="BottomShadow" type="DirectionalLight3D" parent="SubViewportContainer/SubViewport/SliceVisualizer"]
transform = Transform3D(-1, -3.82137e-15, 8.74228e-08, -8.74228e-08, 4.37114e-08, -1, 0, -1, -4.37114e-08, 0, 0, 0)
light_energy = 0.25
light_negative = true

[node name="IntersectionPlane" type="MeshInstance3D" parent="SubViewportContainer/SubViewport/SliceVisualizer"]
mesh = SubResource("QuadMesh_7oevu")

[node name="SubViewportContainer2" type="SubViewportContainer" parent="."]
layout_mode = 0
offset_left = 1536.0
offset_top = 149.0
offset_right = 2560.0
offset_bottom = 1173.0

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer2"]
own_world_3d = true
world_3d = SubResource("World3D_vcce8")
transparent_bg = true
handle_input_locally = false
msaa_3d = 3
size = Vector2i(1024, 1024)
render_target_update_mode = 4

[node name="VolumetricTextureViewer" type="Node3D" parent="SubViewportContainer2/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12, 0, 0)

[node name="VolumetricTexture" type="Node3D" parent="SubViewportContainer2/SubViewport/VolumetricTextureViewer"]

[node name="Pivot" type="Node3D" parent="SubViewportContainer2/SubViewport/VolumetricTextureViewer"]

[node name="Camera3D" type="Camera3D" parent="SubViewportContainer2/SubViewport/VolumetricTextureViewer/Pivot"]
transform = Transform3D(1, 0, 0, 0, 0.912777, 0.408458, 0, -0.408458, 0.912777, 0, 1.25, 2.5)

[node name="Label" type="Label" parent="."]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0

[node name="Label2" type="Label" parent="."]
layout_mode = 0
offset_left = 13.0
offset_top = 614.0
offset_right = 93.0
offset_bottom = 637.0
theme_override_font_sizes/font_size = 32
text = "Brush Size"

[node name="ColorPickerButton" type="ColorPicker" parent="."]
layout_mode = 0
offset_top = 28.0
offset_right = 512.0
offset_bottom = 604.0

[node name="HSlider" type="HSlider" parent="."]
layout_mode = 0
offset_left = 15.0
offset_top = 655.0
offset_right = 523.0
offset_bottom = 698.0
min_value = 1.0
max_value = 8.0
step = 0.25
value = 1.0

[node name="FileDialog" type="FileDialog" parent="."]
auto_translate_mode = 1
mode = 4
title = "Save Image"
position = Vector2i(380, 350)
size = Vector2i(1778, 885)
ok_button_text = "Save"
access = 2
filters = PackedStringArray("*.png")
use_native_dialog = true

[connection signal="color_changed" from="ColorPickerButton" to="." method="_on_color_picker_button_color_changed"]
[connection signal="value_changed" from="HSlider" to="." method="_on_h_slider_value_changed"]
[connection signal="file_selected" from="FileDialog" to="." method="_on_file_dialog_file_selected"]
